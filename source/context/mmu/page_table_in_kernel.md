# Kernel与MMU

主要是从操作系统的角度，如果实现一个完整的地址翻译，来看我需要什么的功能？

假设我们现在使用4K页，或者2M页面，访问一个虚拟地址为0xfffff8007898的地址。
下面我们按照Kernel的视角来看如何处理。

全部以代码说明，切勿全是文字性的表述！！！

## 地址翻译相关的初始化


## 遍历页表


## 如果TLB中没有映射

## 如果页表项的V=0


## 如果写操作页表项D=0

## 如果权限不合法


## 虚拟地址到物理地址的映射
一个具体的示例代码


## 页表的刷新

1. 为什么需要刷新
2. 刷新的场合是什么
3. 采用什么样的方式
4. 进程的切换也要刷新
5. 给出具体的例子，比如内核代码，
   或者其他的示例代码
